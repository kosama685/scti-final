(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{270:function(t,s,e){"use strict";e.r(s);var a=e(0),r=e.n(a);function n(t,s,e,a,r,n,o){try{var i=t[n](o),c=i.value}catch(t){return void e(t)}i.done?s(c):Promise.resolve(c).then(a,r)}function o(t){return function(){var s=this,e=arguments;return new Promise((function(a,r){var o=t.apply(s,e);function i(t){n(o,a,r,i,c,"next",t)}function c(t){n(o,a,r,i,c,"throw",t)}i(void 0)}))}}var i={inject:["formatDate"],data:function(){return{users:{},search:"",entries:10,status:0,message:"",selectedIndex:void 0,primaryKey:void 0,successButtonText:"",to:"",from:"",user_role:"user"}},components:{BlockPopup:function(){return e.e(4).then(e.bind(null,309))}},created:function(){var t=this;return o(r.a.mark((function s(){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.getBlockedUsers();case 2:case"end":return s.stop()}}),s)})))()},methods:{getBlockedUsers:function(){var t=arguments,s=this;return o(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:1,e.next=3,axios.get("/api/admin/block?page="+a+"&entries="+s.entries+"&from="+s.from+"&to="+s.to+"&user_role="+s.user_role);case 3:s.users=e.sent.data,console.log(s.users);case 5:case"end":return e.stop()}}),e)})))()},BlockPopup:function(t){this.primaryKey=this.users.data[t].id,this.selectedIndex=t,this.message="Are you sure! do you want to Un-block this User ?",this.successButtonText="Yes"},blockUser:function(t){this.users.data.splice(this.selectedIndex,1)}}},c=e(1),l=Object(c.a)(i,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"content-body"},[e("section",{attrs:{id:"configuration"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card rounded pad-20"},[e("div",{staticClass:"card-content collapse show"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h1",[e("router-link",{attrs:{to:{name:"admin.users.index"}}},[e("i",{staticClass:"fa fa-angle-left"}),t._v("Users\n                                            ")])],1)])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"top mt-5"},[t._m(1),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-2 col-md-4 col-sm-6 col-12"},[e("date-picker",{attrs:{valueType:"format"},model:{value:t.from,callback:function(s){t.from=s},expression:"from"}})],1),t._v(" "),e("div",{staticClass:"col-xl-2 col-md-4 col-sm-6 col-12"},[e("date-picker",{attrs:{valueType:"format"},model:{value:t.to,callback:function(s){t.to=s},expression:"to"}})],1),t._v(" "),e("div",{staticClass:"col-xl-2 col-md-4 col-12"},[e("button",{staticClass:"green-btn w-100",attrs:{type:"button"},on:{click:function(s){return t.getBlockedUsers()}}},[t._v("apply/clear\n                                            ")])])])]),t._v(" "),e("div",{staticClass:"clearfix"}),t._v(" "),e("div",{staticClass:"maain-tabble table-responsive"},[e("table",{staticClass:"table table-striped table-bordered zero-configuration"},[t._m(2),t._v(" "),e("tbody",[t._l(t.users.data,(function(s,a){return e("tr",{key:a},[e("td",[t._v("0"+t._s(a))]),t._v(" "),e("td",[t._v(t._s(s.id))]),t._v(" "),e("td",[t._v(t._s(s.name))]),t._v(" "),e("td",[t._v(t._s(t.formatDate(s.created_at)))]),t._v(" "),e("td",[e("div",{staticClass:"btn-group mr-1 mb-1"},[t._m(3,!0),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"x-placement":"bottom-start"}},[e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"admin.users.profile",params:{id:s.id}}}},[e("i",{staticClass:"fa fa-user-circle"}),t._v("View Profile\n                                                        ")]),t._v(" "),e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"admin.subscriptions.show",params:{id:s.id}}}},[e("i",{staticClass:"fa fa-eye"}),t._v("View Subscription Program\n                                                        ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{"data-toggle":"modal",href:"#blockPopup"},on:{click:function(s){return t.BlockPopup(a)}}},[e("i",{staticClass:"fa fa-undo"}),t._v("UN\n                                                            Block")])],1)])])])})),t._v(" "),void 0!==t.users.data&&0==t.users.data.length?e("tr",[e("td",{attrs:{colspan:"8"}},[t._v("\n                                                No Data Available\n                                            ")])]):t._e()],2)])])])])])])])])]),t._v(" "),e("block-popup",{attrs:{successButtonText:t.successButtonText,"primary-key":t.primaryKey,table:"unblock-user",message:t.message},on:{delete:t.blockUser}})],1)}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"content-header"},[s("h2",[this._v("Blocked Users Listing")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("label",{attrs:{for:""}},[this._v("sort by :")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",[t._v("s.no")]),t._v(" "),e("th",[t._v("User ID")]),t._v(" "),e("th",[t._v("Full name")]),t._v(" "),e("th",[t._v("Registration Date")]),t._v(" "),e("th",[t._v("Action")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"btn btn-drop-table btn-sm",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-ellipsis-v"})])}],!1,null,null,null);s.default=l.exports}}]);