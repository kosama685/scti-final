(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{304:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s);function n(e,t,a,s,i,n,r){try{var o=e[n](r),d=o.value}catch(e){return void a(e)}o.done?t(d):Promise.resolve(d).then(s,i)}function r(e){return function(){var t=this,a=arguments;return new Promise((function(s,i){var r=e.apply(t,a);function o(e){n(r,s,i,o,d,"next",e)}function d(e){n(r,s,i,o,d,"throw",e)}o(void 0)}))}}var o={data:function(){return{isSending:!1,code:"",email:""}},methods:{onResend:function(e){var t=this;return r(i.a.mark((function e(){var a,s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=new FormData).append("email",localStorage.getItem("email")),t.isSending){e.next=10;break}return t.isSending=!0,e.next=6,axios.post("/api/auth/verify/email",a);case 6:(s=e.sent).data.data?(n=t,t.isSending=!1,setTimeout((function(){n.$snotify.success(s.data.msg)}),1e3)):t.$snotify.error(s.data.msg),e.next=11;break;case 10:t.$snotify.error("already sending","Please Wait!");case 11:case"end":return e.stop()}}),e)})))()},onSubmit:function(e){var t=this;return r(i.a.mark((function e(){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData(t.$refs.validateCode),e.next=3,axios.post("/api/auth/verify/code",a);case 3:(s=e.sent).data.data?(localStorage.setItem("code",t.code),t,$("#new-password").modal("show"),$("#verify-code").modal("hide"),t.$snotify.success(s.data.message,"Verified")):t.$snotify.error(s.data.message,"Invalid Code");case 5:case"end":return e.stop()}}),e)})))()}}},d=a(1),c=Object(d.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"verify-code",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content recovery"},[e._m(0),e._v(" "),a("div",{staticClass:"modal-body"},[e._m(1),e._v(" "),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12"},[a("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var s=t.handleSubmit;return[a("form",{ref:"validateCode",on:{submit:function(t){return t.preventDefault(),s(e.onSubmit)}}},[a("div",{staticClass:"form-group mb-3"},[a("label",{attrs:{for:"verification-code"}},[e._v("Verfication Code*")]),e._v(" "),a("validationProvider",{attrs:{name:"code",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"form-control prof-input-login",attrs:{type:"number",name:"code",id:"verification-code","aria-describedby":"emailHelp",placeholder:"Enter verification code"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),a("span",{staticClass:"text-danger"},[e._v(e._s(s[0]))])]}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"form-row mb-3"},[a("div",{staticClass:"col-12 text-right"},[a("span",{staticClass:"forgot"},[e._v("Didnt recieve code? ")]),e._v(" "),a("a",{staticClass:"small-link fp",attrs:{disabled:e.isSending},on:{click:function(t){return e.onResend()}}},[e._v(e._s(e.isSending?"Resending Code":"Resend"))])])]),e._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-12 text-center"},[a("button",{staticClass:"btn-profBlue",attrs:{type:"submit"}},[e._v("Continue")])]),e._v(" "),a("div",{staticClass:"col-12 text-center"},[a("a",{staticClass:"small-link",attrs:{href:""}},[a("i",{staticClass:"fa fa-arrow-left mr-2",attrs:{"aria-hidden":"true"}}),e._v(" back to Login")])])])])]}}])})],1)])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center"},[t("h4",[this._v("Password Recovery")])])])}],!1,null,null,null);t.default=c.exports}}]);